

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to MC_Grating_Python documentation! &mdash; mc_grating_python 2021-01 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="License" href="licence.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> mc_grating_python
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="licence.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">mc_grating_python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to MC_Grating_Python documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-mc-grating-python-documentation">
<h1>Welcome to MC_Grating_Python documentation!<a class="headerlink" href="#welcome-to-mc-grating-python-documentation" title="Permalink to this headline">¶</a></h1>
<p>MC_Grating_Python was written in order to interface python with <a class="reference external" href="https://mcgrating.com/">MC Grating</a>. This facilitates the creation of more complex geometries, optimizations and visualizations.</p>
<p>The code is in continous development. Currently it only works for the Crossed Grating codes.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>Download the <a class="reference external" href="https://github.com/dorianherle/MC_Grating_Python/blob/main/mc_grating_class.py">mc_grating_class</a> to the directory from which you would like to run the python script.</p>
<div class="section" id="first-simulation">
<h3>First Simulation<a class="headerlink" href="#first-simulation" title="Permalink to this headline">¶</a></h3>
<p>This tutorial will teach you how to run your first MC Grating simulation through python. It will include defining your geometry, setting up the scan, and retreiveing as well as visualizing the result.</p>
<p>We will be simulating the reflection from a periodic nanostructure (2D grating). The nanostructure consists of silicon nano-discs on an oxide substrate.</p>
<img alt="_images/periodic_nano_discs.jpg" class="align-center" src="_images/periodic_nano_discs.jpg" />
<p>Start by importing all necessary packages and python files (mc_grating_class):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># some standard python packages</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1"># the python-MC Grating link</span>
<span class="kn">import</span> <span class="nn">mc_grating_class</span> <span class="k">as</span> <span class="nn">mc</span>
</pre></div>
</div>
<p>Define all the general simulation parameters:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># create mc_grating header</span>
<span class="n">gen</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">general</span><span class="p">(</span><span class="n">orders_x</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span><span class="n">orders_y</span><span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="n">single_wavelength</span><span class="o">=</span><span class="mi">560</span><span class="p">)</span>
</pre></div>
</div>
<p>Create the geometry (and define materials used):</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># geometry</span>
<span class="n">geo</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="n">period_x</span><span class="o">=</span><span class="mi">237</span><span class="p">,</span> <span class="n">period_y</span><span class="o">=</span><span class="mi">237</span><span class="p">)</span>
<span class="c1"># Cover Layer</span>
<span class="n">geo</span><span class="o">.</span><span class="n">cover_material</span><span class="p">(</span><span class="s2">&quot;Air (Special Formula)&quot;</span><span class="p">)</span>

<span class="c1"># LAYER 1</span>
<span class="n">geo</span><span class="o">.</span><span class="n">layer</span><span class="p">(</span><span class="n">thickness</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">sourrounding_material</span> <span class="o">=</span> <span class="s2">&quot;Air (Special Formula)&quot;</span><span class="p">)</span>
<span class="n">geo</span><span class="o">.</span><span class="n">circle</span><span class="p">(</span><span class="n">center</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">radius</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">material</span> <span class="o">=</span> <span class="s2">&quot;Silicon (Table)&quot;</span><span class="p">)</span>

<span class="c1"># Substrate</span>
<span class="n">geo</span><span class="o">.</span><span class="n">substrate</span><span class="p">(</span><span class="s2">&quot;Fused Silica (Sellmeier)&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>let’s create a wavlength scan in the visible range from 400nm to 700nm:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># scan</span>
<span class="n">scan</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">scanning</span><span class="p">()</span>
<span class="n">scan</span><span class="o">.</span><span class="n">setting_wavelength_scan</span><span class="p">(</span><span class="n">start_w</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span> <span class="n">end_w</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">number_of_points</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>Finnaly, let’s retrieve and visualize the result</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># run</span>
<span class="n">run</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">run_simulation</span><span class="p">()</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">run</span><span class="o">.</span><span class="n">open_output</span><span class="p">(</span><span class="n">scan</span> <span class="o">=</span> <span class="s2">&quot;wavelength_range&quot;</span><span class="p">)</span>

<span class="c1"># Visualize</span>
<span class="n">w</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;WaveL&quot;</span><span class="p">]</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s2">&quot;C[0,0].Pow&quot;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">w</span><span class="p">,</span><span class="n">r</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Reflection Spectra C[0,0].Pow&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Wavelength (nm)&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Reflection %&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="licence.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Help</a><ul>
<li class="toctree-l2"><a class="reference internal" href="help.html#need-further-help">Need further help</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="licence.html" class="btn btn-neutral float-right" title="License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Dorian Herle.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>